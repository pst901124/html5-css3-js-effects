<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <script src="css3.js"></script>
  <style>
    *{
	  margin:0; padding:0;
 	}
	li{
	  list-style:none;
	}
	.out{
	  width:600px; height:450px; border:1px solid red; margin:50px auto;
	  -webkit-perspective:900px; position:relative;	
	  -webkit-perspective-origin:right bottom;
	}
	.box{
	  width:100%; height:112.5px; position:absolute;
	  -webkit-transform-style:preserve-3d;
	  -webkit-transform-origin:center center 25px;
	}
	.box li{
	  position:absolute;width:100%; height:100%;
	}
	.box li:nth-of-type(1){
	  height:50px; background:#000; top:-50px; left:0;
	  -webkit-transform-origin:bottom;
	  -webkit-transform:rotateX(-90deg);
	}
	.box li:nth-of-type(2){
	  width:50px; background:#000; top:0; left:-50px;
	  -webkit-transform-origin:right;
	  -webkit-transform:rotateY(90deg);
	}
	.box li:nth-of-type(3){
	  background:url(1.jpg) no-repeat; top:0; left:0;
	}
	.box li:nth-of-type(4){
	  width:50px; background:#000; top:0px; left:600px;
	  -webkit-transform-origin:left;
	  -webkit-transform:rotateY(-90deg);
	}
	.box li:nth-of-type(5){
	  height:50px; background:#000; top:112.5px; left:0;
	  -webkit-transform-origin:top;
	  -webkit-transform:rotateX(90deg);
	}
	.box li:nth-of-type(6){
	  background:url(2.jpg) no-repeat; top:0; left:0;
	  -webkit-transform:translateZ(50px);
	}
	.btn{
	  width:30px; height:30px; border-radius:50%; background:#ccc; cursor:pointer; margin:0 auto;
	}
  </style>
  <script>
    window.onload=function(){
	  var out=document.getElementsByTagName("div")[0];
	  var btn=document.getElementsByTagName("div")[1];
	  var str="";
	  for(var i=0; i<4; i++){
	    str+="<ul class='box' style='left:0;top:"+i*112.5+"px;'><li></li><li></li><li style='background-position:0 "+(-i*112.5)+"px;'></li><li></li><li></li><li style='background-position:0 "+(-i*112.5)+"px;'></li></ul>"
	  }
	  out.innerHTML=str;
	  var boxs=document.getElementsByTagName("ul");
	  var angle=0;
	  btn.onclick=function(){
		angle+=180;
		if(angle>180){
		  angle=0;
		}
	    for(var i=0; i<boxs.length; i++){
	    setCss3(boxs[i],{transform:"rotateY("+angle+"deg)"});
	    setCss3(boxs[i],{transition:"all 2s ease "+Math.random()*1.5+"s"});
	  }
	  }
	}
  </script>
 </head>
 <body>
  <div class="out">
 </div>
   <div class="btn"></div>
 </body>
</html>
